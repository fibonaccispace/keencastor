<?php
$file = 'counter.txt';
$dateTime = date('Y-m-d H:i:s');
$logEntry =  "\n" . $dateTime;
$fileHandle = fopen($file, 'a');
if ($fileHandle) {
    fwrite($fileHandle, $logEntry);
    fclose($fileHandle);
}

$lines = count(file($file));
?>


<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>keencastor</title>
    <link rel="icon" type="image/png" href="images/favicons/favicon_1.png">

    <meta property="og:url" content="https://keencastor.ru">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://keencastor.ru/images/opengraph.png">
    <meta property="og:site_name" content="keencastor.ru">
    <meta property="og:title" content="keencastor">
    <meta property="og:description" content="the site about coding adventures, interesting tasks, quotes from books, pet projects, images, visualizations, generatives, web-games, interactive elements, mathematical funs, facts about numbers, photos, installations, art objects.">
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="main.js"></script>
  </body>
</html>

<script>
const icons = [
    'images/favicons/favicon_1.png',
    'images/favicons/favicon_2.png',
    'images/favicons/favicon_3.png',
    'images/favicons/favicon_4.png',
    'images/favicons/favicon_5.png',
    'images/favicons/favicon_6.png',
    'images/favicons/favicon_7.png',
    'images/favicons/favicon_8.png',
    'images/favicons/favicon_9.png',
    'images/favicons/favicon_10.png',
    'images/favicons/favicon_11.png'
]

let updateIcons = changeFavicon()
setInterval(() => { updateIcons() }, 1000)
function changeFavicon() {
    let index = 0
    function update(){
        let link = document.querySelector('link[rel="icon"]')
        if (!link) {
            link = document.createElement('link')
            link.rel = 'icon'
            document.head.appendChild(link)
        }
        link.href = icons[(index++)%icons.length]
    }
    return update
}
</script>